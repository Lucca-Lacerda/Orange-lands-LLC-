<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Orange Lands — Terrenos na Flórida</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
  <style>#map{height:460px}</style>
</head>
<body class="bg-gray-50 text-gray-900">
  <header class="bg-white border-b">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <div class="flex items-center gap-2"><span class="w-3 h-3 bg-orange-500 rounded-full"></span><strong>Orange Lands USA</strong></div>
      <nav class="text-sm"><a href="#terrenos" class="mr-4">Terrenos</a><a href="#mapa">Mapa</a></nav>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 py-8">
    <h1 class="text-3xl font-extrabold">Encontre seu lote perfeito em qualquer condado da Flórida</h1>

    <section id="terrenos" class="mt-6">
      <h2 class="text-xl font-bold">Lista de terrenos</h2>
      <div id="grid" class="mt-3 grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
    </section>

    <section id="mapa" class="mt-10">
      <h2 class="text-xl font-bold">Mapa (OpenStreetMap)</h2>
      <div id="map" class="mt-3 rounded-xl border"></div>
      <p class="text-xs text-gray-500 mt-2">Sem Google Maps. Clique nos pinos para ver o endereço.</p>
    </section>
  </main>

  <footer class="py-8 text-center text-sm text-gray-600">© 2025 Orange Lands USA</footer>

  <script>
    const PROPERTIES = [{'title': '4803 Myrtle Beach Dr', 'address': '4803 Myrtle Beach Dr, Sebring, FL 33872', 'parcel': 'C-04-34-28-160-3460-0160'}, {'title': '4809 Myrtle Beach Dr', 'address': '4809 Myrtle Beach Dr, Sebring, FL 33872', 'parcel': 'C-04-34-28-160-3460-0150'}, {'title': '5212 Balboa Blvd', 'address': '5212 Balboa Blvd, Sebring, FL 33872', 'parcel': 'C-04-34-28-100-1580-0340'}, {'title': '8135 Carillo Dr', 'address': '8135 Carillo Dr, Sebring, FL 33872', 'parcel': 'C-04-34-28-080-0970-0420'}, {'title': '8328 Mantua Ave', 'address': '8328 Mantua Ave, Sebring, FL 33872', 'parcel': 'C-04-34-28-100-1610-0400'}];
    const grid = document.getElementById('grid');
    PROPERTIES.forEach(p => {
      const card = document.createElement('article');
      card.className = 'p-4 rounded-xl bg-white border shadow-sm';
      const gmaps = 'https://www.openstreetmap.org/search?query=' + encodeURIComponent(p.address);
      card.innerHTML = `
        <h3 class="font-semibold">${p.title}</h3>
        <p class="text-sm text-gray-700">${p.address}</p>
        <p class="text-xs text-gray-500">Parcel: ${p.parcel}</p>
      `;
      grid.appendChild(card);
    });

    // Leaflet map
    const map = L.map('map');
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom:19}).addTo(map);
    map.setView([27.8, -81.7], 6); // Florida
    const bounds = L.latLngBounds();

    async function geocode(addr) {
      const url = 'https://nominatim.openstreetmap.org/search?format=json&q=' + encodeURIComponent(addr + ', Florida');
      const r = await fetch(url, { headers: { 'Accept-Language': 'pt-BR' } });
      const data = await r.json();
      return data[0] ? [parseFloat(data[0].lat), parseFloat(data[0].lon)] : null;
    }

    (async () => {
      for (const p of PROPERTIES) {
        const c = await geocode(p.address);
        if (c) { L.marker(c).addTo(map).bindPopup(`<strong>${p.title}</strong><br/>${p.address}`); bounds.extend(c); }
      }
      if (bounds.isValid()) map.fitBounds(bounds.pad(0.25));
    })();
  </script>
</body>
</html>
